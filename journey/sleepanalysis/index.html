<!DOCTYPE html>
<html>


<link rel="stylesheet" href="/scss/main.css" />


<script src="/js/batch-load.js"></script>
 

<meta name="viewport" content="width=device-width, initial-scale=1">

 <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">


<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js" integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous"></script>


<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false},
                {left: '\\(', right: '\\)', display: false},
                {left: '\\[', right: '\\]', display: true}
            ]
        });
    });
</script>
 
 <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide-core.min.css">
<script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        var elms = document.getElementsByClassName('splide');
        for (var i = 0; i < elms.length; i++) {
            console.log("elms " + elms.length);
            let settings = { type: 'loop', autoplay: false, arrows: false, clones: 0};
            
            new Splide(elms[i], settings).mount();
        }
    });
</script>
 
<head>
 <title>Kalin Kochnev</title>
 <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
</head>
<body>
        
        <div id="content">

<header>  
  <nav class="navbar" role="navigation">  
    <div id="face-icon">
      




    
        
    
    <img
    src="/images/face_hu03cb41ba356b0fd884adcc4944d0157c_969556_125x0_resize_q90_h2_box_3.webp"
    
    
    
    style="
         
        
    "
    />



      <div id="name"> 
        
        <a href="/">kalin kochnev</a>
        
        <p id="subtitle">journeys</p>
        
      </div>  
    </div>
    
    <div id="right">  
      <a href="/journey">journeys</a>  
      <a href="/blog">blog</a>
    </div>  
  </nav>  
</header>  
<div id="journey-single-container">
  <div id="journey-single-grid">
    <div id="description-col">
      
      <div class="content">
        <section class="splide" aria-label="">
  <div class="splide__track">
    <ul class="splide__list">
      
<li class="splide__slide">
   <figure  ><div class="image-container">
            
            
            
            




    
        
    
    <img
    src="/journey/sleepanalysis/histogram_huf1aa0d291d52464134132745eb528dcd_53278_1200x0_resize_q90_h2_box_3.webp"
     class="batch-load" 
    
     alt="Histogram of hours slept (AP Stats)" 
    style="
         
         height: 420px; 
    "
    />



        </div>
        <figcaption>
            Histogram of hours slept (AP Stats)
        </figcaption>
    
</figure>
 
</li>

<li class="splide__slide">
   <figure  ><div class="image-container">
            
            
            
            




    
        
    
    <img
    src="/journey/sleepanalysis/probabilityplot_hu456981dbbb0ccd05fa9873bc747accd2_56591_1200x0_resize_q90_h2_box_3.webp"
     class="batch-load" 
    
     alt="Probability plot of hours slept (AP Stats)" 
    style="
         
         height: 420px; 
    "
    />



        </div>
        <figcaption>
            Probability plot of hours slept (AP Stats)
        </figcaption>
    
</figure>
 
</li>


    </ul>
  </div>
</section>

<h2 id="back-in-highschool">Back in highschool</h2>
<p>This project began during my junior year of high school. My AP Statistics teacher wanted us to apply what we learned in class to something relevant in our lives. I had recently gotten a Fitbit, so it was the natural choice for me to analyze my sleep data.</p>
<p>I think wearable sensing is a really awesome application for monitoring health. It is an opportunity ripe for gameification.</p>
<p>When I submitted my initial project, I was only investigating if the amount of hours I slept followed a normal distribution. It looked pretty dang close with only 50 samples, considering the linear trend of the probability plot.</p>
<h2 id="why-we-sleephttpswwwsleepdiplomatcomauthor"><a href="https://www.sleepdiplomat.com/author">&ldquo;Why we sleep&rdquo;</a></h2>
<p>I read this book during my freshman year of college. This really ignited my interest in sleep and made me realize its importance. Getting enough sleep is one of the simplest ways we can improve out health. There is no bodily function that sleep doesn&rsquo;t affect. And from my own experience, quality of life goes through the roof when I feel rested and awake. I could experience the best day of my life, but as long as I was tired, it would have felt awful.</p>
<h2 id="what-is-my-optimal-bedtime">What is my optimal bedtime?</h2>
<p>I spent a significant amount of time pondering how I would go about this. There are so many factors that affect the quality of sleep like temperature, diet, exercise, time of day, and more. Some of those I do have control over, but it would be incredibly difficult to collect a dataset. I would be conducting an experiment on myself for months.</p>
<p>One option was to wake up and go to bed based on a random number generator for several months. That would have been awful, so I searched for another method.</p>
<p>I could have experimented with the factors listed above, but they aren&rsquo;t, in my opinion, the things I can control. Here is what I attempted to analyze:</p>
<ol>
<li>What time I go to bed</li>
<li>What time I wake up</li>
</ol>
<p>I decided to take a bayesian approach. Given that I go to bed at time $N$, what is the probability that I get $H$ hours of sleep while waking up at $M$ time. This will be more clear with a graph.</p>
<p>$$P(\ge H \mid \text{(M wakeup and N bedtime)})$$</p>
<h3 id="example-pge75-mid-textwakeup-8am-bedtime-n">Example $P(\ge7.5 \mid \text{(Wakeup: 8am, Bedtime N)})$</h3>
<figure  ><div class="image-container">
            
            
            
            




    
        
    
    <img
    src="/journey/sleepanalysis/bayesianexample_hu6cd3afda5d1a896588baa083ba181142_48603_1200x0_resize_q90_h2_box_3.webp"
     class="batch-load" 
    
     alt="Probability of getting enough sleep if I wake up at 8 AM" 
    style="
         
        
    "
    />



        </div>
        <figcaption>
            Probability of getting enough sleep if I wake up at 8 AM
        </figcaption>
    
</figure>

<p>On the x-axis is the time I go to sleep (in military time). While on the y-axis is the probability of getting $\ge 7.5$ hours of sleep. The orange line represents a specific wake up time, 8 AM. So let&rsquo;s say I go to bed at 11 PM (23:00), then I have approximately an 80% chance of getting $\ge 7.5$ hours of sleep.</p>
<p>The probability approaching 0 as it gets closer to midnight seems to validate that my code works. Clearly if I go to bed at 1 am, there is absolutely no chance I get 7.5 hours since there aren&rsquo;t even 7.5 hours between 1 am and 8 am.</p>
<p>Now you might see something strange. If I&rsquo;m waking up at 8 am, shouldn&rsquo;t I have had 0% at 1 am and not midnight? The graph is dropping off way too steeply.</p>
<p>My best explanation is because we aren&rsquo;t perfectly efficient sleepers. Every minute spent in bed is not necessarily time that we are asleep. On average, according to Fitbit, users are awake during the night for 25 minutes. This is also dependent on age. For my age range, it is normal to be awake for 5-15% of the night. My statistic on average is 9-10%. So for me to get 7.5 hours of sleep, I need to be in bed for at least 8.25 hours.</p>
<h2 id="applying-to-all-possible-wake-up-times">Applying to all possible wake up times</h2>
<p><figure  ><div class="image-container">
            
            
            
            




    
        
    
    <img
    src="/journey/sleepanalysis/bayesianall_hu931a68d9111a17bfae0f7c837186808b_125280_1200x0_resize_q90_h2_box_3.webp"
     class="batch-load" 
    
     alt="For all wake up times" 
    style="
         
        
    "
    />



        </div>
        <figcaption>
            For all wake up times
        </figcaption>
    
</figure>

When I saw this graph, I became very excited!</p>
<p>According to &ldquo;Why we sleep&rdquo;, generally a young adult has a biologically need to have a later bed time. And like many others, I would love to stay up late and wake up late, but the college schedule does not necessarily support that. It&rsquo;s even worse with middle and high school where you have to wake up at 6 AM.</p>
<p>So for the longest time, I faced my reality and forced myself to go to bed earlier. However, I had the suspicion that by going to bed later, I actually fell asleep faster. The effects are more pronounced</p>

      </div>
    </div>
    
    <div id="summary-container">
      <h1 id="title">Sleep Analysis</h1>
      <div id="inducted">
        <h2 id="date">Inducted January 31, 2023</h2>
        <div id="status">
          <span class="icon">
  <svg width="100%" height="100%" version="1.1" viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg">
   <g transform="translate(-84.865 -99.13)">
     <circle cx="97.365" cy="111.63" r="7.5" 
      fill="
          
            #b4e6acff
           
        " 
    stroke="#000 " 
    stroke-width="3.2657"/>
   </g>
  </svg>
</span>

          active
        </div>
      </div>
      <div>
        
          <span class="tag">jupyter</span>
        
          <span class="tag">python</span>
        
          <span class="tag">data-science</span>
        
      </div>
      
      <p>A statistical analysis of sleep records from a Fitbit</p>
      <div id="links">
        
      </div>
      


























 
    </div>
  </div>
</div><noscript>
    <style>
        .image-container {
            opacity: 1 !important;
        }
    </style>
</noscript>
        </div><noscript>
    <style>
        .image-container {
            opacity: 1 !important;
        }
    </style>
</noscript></body>
</html>
